<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.33">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>phase3 – COP-5725---Group-Project</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-ea385d0e468b0dd5ea5bf0780b1290d9.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-a986a95301e671fce2c6472dffc862a1.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">COP-5725—Group-Project</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./tableSQL.html"> 
<span class="menu-text">Table SQL</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./queriesSQL.html"> 
<span class="menu-text">Queries SQL</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./erEnglish.html"> 
<span class="menu-text">English Structured Relationships</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./ERDiagram_Assignment.html"> 
<span class="menu-text">ERD Assignment</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./ERD_mid_diagram.html"> 
<span class="menu-text">ERD Mid Term</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#specification-of-the-monster-entity" id="toc-specification-of-the-monster-entity" class="nav-link active" data-scroll-target="#specification-of-the-monster-entity">Specification of the Monster Entity</a>
  <ul class="collapse">
  <li><a href="#entity-relationships" id="toc-entity-relationships" class="nav-link" data-scroll-target="#entity-relationships">Entity Relationships</a></li>
  <li><a href="#monster-entity-attributes" id="toc-monster-entity-attributes" class="nav-link" data-scroll-target="#monster-entity-attributes">Monster Entity Attributes</a></li>
  <li><a href="#relationships-summary" id="toc-relationships-summary" class="nav-link" data-scroll-target="#relationships-summary">Relationships Summary</a></li>
  <li><a href="#specialization-bosses" id="toc-specialization-bosses" class="nav-link" data-scroll-target="#specialization-bosses">Specialization: Bosses</a></li>
  </ul></li>
  <li><a href="#relationships-structure-analysis" id="toc-relationships-structure-analysis" class="nav-link" data-scroll-target="#relationships-structure-analysis"><strong>Relationships &amp; Structure Analysis</strong></a>
  <ul class="collapse">
  <li><a href="#cardinality-table" id="toc-cardinality-table" class="nav-link" data-scroll-target="#cardinality-table">Cardinality Table</a></li>
  <li><a href="#participation-ratio-table" id="toc-participation-ratio-table" class="nav-link" data-scroll-target="#participation-ratio-table">Participation Ratio Table</a></li>
  </ul></li>
  <li><a href="#identify-and-explain" id="toc-identify-and-explain" class="nav-link" data-scroll-target="#identify-and-explain"><strong>Identify and explain</strong></a>
  <ul class="collapse">
  <li><a href="#strong-vs.-weak-entities" id="toc-strong-vs.-weak-entities" class="nav-link" data-scroll-target="#strong-vs.-weak-entities">Strong vs.&nbsp;weak entities</a></li>
  <li><a href="#weak-entities-include-melanie-ortiz" id="toc-weak-entities-include-melanie-ortiz" class="nav-link" data-scroll-target="#weak-entities-include-melanie-ortiz">Weak Entities include (Melanie Ortiz):</a></li>
  <li><a href="#supertypes-and-subtypes-with-their-distinguishing-features." id="toc-supertypes-and-subtypes-with-their-distinguishing-features." class="nav-link" data-scroll-target="#supertypes-and-subtypes-with-their-distinguishing-features.">Supertypes and subtypes with their distinguishing features.</a></li>
  </ul></li>
  <li><a href="#table-column-constraints" id="toc-table-column-constraints" class="nav-link" data-scroll-target="#table-column-constraints"><strong>Table &amp; Column Constraints</strong></a>
  <ul class="collapse">
  <li><a href="#player-table" id="toc-player-table" class="nav-link" data-scroll-target="#player-table">Player Table</a></li>
  <li><a href="#character-table" id="toc-character-table" class="nav-link" data-scroll-target="#character-table">Character Table</a></li>
  <li><a href="#class-table" id="toc-class-table" class="nav-link" data-scroll-target="#class-table">Class Table</a></li>
  <li><a href="#race-table" id="toc-race-table" class="nav-link" data-scroll-target="#race-table">Race Table</a></li>
  <li><a href="#spell-table" id="toc-spell-table" class="nav-link" data-scroll-target="#spell-table">Spell Table</a></li>
  <li><a href="#equipment-table" id="toc-equipment-table" class="nav-link" data-scroll-target="#equipment-table">Equipment Table</a></li>
  <li><a href="#npc-table" id="toc-npc-table" class="nav-link" data-scroll-target="#npc-table">NPC Table</a></li>
  <li><a href="#event-table" id="toc-event-table" class="nav-link" data-scroll-target="#event-table">Event Table</a></li>
  </ul></li>
  <li><a href="#achievement-table" id="toc-achievement-table" class="nav-link" data-scroll-target="#achievement-table">Achievement Table</a>
  <ul class="collapse">
  <li><a href="#monster-table" id="toc-monster-table" class="nav-link" data-scroll-target="#monster-table">Monster Table</a></li>
  <li><a href="#boss-table" id="toc-boss-table" class="nav-link" data-scroll-target="#boss-table">Boss Table</a></li>
  <li><a href="#classspell-table" id="toc-classspell-table" class="nav-link" data-scroll-target="#classspell-table">ClassSpell Table</a></li>
  <li><a href="#characterequipment-table" id="toc-characterequipment-table" class="nav-link" data-scroll-target="#characterequipment-table">CharacterEquipment Table</a></li>
  <li><a href="#characterevent-table" id="toc-characterevent-table" class="nav-link" data-scroll-target="#characterevent-table">CharacterEvent Table</a></li>
  <li><a href="#playerachievement-table" id="toc-playerachievement-table" class="nav-link" data-scroll-target="#playerachievement-table">PlayerAchievement Table</a></li>
  <li><a href="#faction-table" id="toc-faction-table" class="nav-link" data-scroll-target="#faction-table">Faction Table</a></li>
  <li><a href="#location-table" id="toc-location-table" class="nav-link" data-scroll-target="#location-table">Location Table</a></li>
  </ul></li>
  <li><a href="#normalization-goals" id="toc-normalization-goals" class="nav-link" data-scroll-target="#normalization-goals"><strong>Normalization Goals</strong></a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"></header>




<section id="specification-of-the-monster-entity" class="level2">
<h2 class="anchored" data-anchor-id="specification-of-the-monster-entity">Specification of the Monster Entity</h2>
<p>This database stores and manages our ecology, encounters, and progression systems within our <strong>Dungeons &amp; Dragons</strong> inspired role-playing game. It includes <strong>12 major entities</strong> central to gameplay mechanics. One of these entities is the <code>MONSTER</code> entity, which represents creatures that characters can battle during their adventures.</p>
<section id="entity-relationships" class="level3">
<h3 class="anchored" data-anchor-id="entity-relationships">Entity Relationships</h3>
<p>The <code>MONSTER</code> entity is related to the <code>NPC</code>, <code>CLASS</code>, and <code>RACE</code> entities.</p>
<ul>
<li>Since <strong>every monster is also an NPC</strong>, the <code>MONSTER</code> entity is modeled as a <strong>subtype of the <code>NPC</code> entity (supertype)</strong>. This captures the idea that monsters share all attributes of NPCs, such as name and faction, but also have unique characteristics relevant to combat.</li>
<li>Each monster can optionally be associated with a <strong>combat class</strong> (e.g., Berserker, Spellcaster), making it related to the <code>CLASS</code> entity.</li>
<li>Monsters may also have a <strong>racial origin</strong> (e.g., Dragon, Undead), requiring a relationship with the <code>RACE</code> entity.</li>
</ul>
</section>
<section id="monster-entity-attributes" class="level3">
<h3 class="anchored" data-anchor-id="monster-entity-attributes">Monster Entity Attributes</h3>
<table class="caption-top table">
<colgroup>
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 70%">
</colgroup>
<thead>
<tr class="header">
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>MonsterID</code></td>
<td>INT (PK, FK)</td>
<td>Unique identifier; also acts as foreign key to <code>NPC</code></td>
</tr>
<tr class="even">
<td><code>Name</code></td>
<td>VARCHAR</td>
<td>Name/type of the monster (e.g., "Frost Troll")</td>
</tr>
<tr class="odd">
<td><code>CR</code></td>
<td>FLOAT</td>
<td>Challenge Rating; used for encounter balancing</td>
</tr>
<tr class="even">
<td><code>HP</code></td>
<td>INT</td>
<td>Hit Points; how much damage the monster can take</td>
</tr>
<tr class="odd">
<td><code>AC</code></td>
<td>INT</td>
<td>Armor Class; how hard it is to hit the monster</td>
</tr>
<tr class="even">
<td><code>Type</code></td>
<td>VARCHAR</td>
<td>Category such as Beast, Fiend, Dragon, etc.</td>
</tr>
<tr class="odd">
<td><code>XP</code></td>
<td>INT</td>
<td>Experience points granted when defeated</td>
</tr>
<tr class="even">
<td><code>RaceID</code></td>
<td>INT (FK)</td>
<td>Foreign key linking to <code>RACE</code></td>
</tr>
<tr class="odd">
<td><code>ClassID</code></td>
<td>INT (FK)</td>
<td>Foreign key linking to <code>CLASS</code> (optional)</td>
</tr>
</tbody>
</table>
</section>
<section id="relationships-summary" class="level3">
<h3 class="anchored" data-anchor-id="relationships-summary">Relationships Summary</h3>
<ul>
<li><strong>One-to-One (Mandatory)</strong> with <code>NPC</code>: Every monster must also be an NPC.</li>
<li><strong>Many-to-One (Optional)</strong> with <code>CLASS</code>: Many monsters may share a combat role.</li>
<li><strong>Many-to-One (Optional)</strong> with <code>RACE</code>: Many monsters may share a racial type.</li>
</ul>
</section>
<section id="specialization-bosses" class="level3">
<h3 class="anchored" data-anchor-id="specialization-bosses">Specialization: Bosses</h3>
<p>The <code>MONSTER</code> entity is further specialized by the <code>BOSS</code> entity. Some monsters are elevated to <strong>boss status</strong>, making them tougher and more unique. These creatures often serve as <strong>major enemies or final challenges</strong> within campaigns.</p>
<ul>
<li>The <code>BOSS</code> entity is modeled as a <strong>subtype of the <code>MONSTER</code> entity</strong>, representing this additional level of specialization.</li>
<li>All bosses are monsters, but not all monsters are bosses.</li>
</ul>
<p>This structure supports a <strong>rich and extensible combat ecosystem</strong>, allowing monsters to be categorized and extended according to gameplay needs, while maintaining strong data integrity and consistency.</p>
<hr>
</section>
</section>
<section id="relationships-structure-analysis" class="level2">
<h2 class="anchored" data-anchor-id="relationships-structure-analysis"><strong>Relationships &amp; Structure Analysis</strong></h2>
<p>List all relationships along with their cardinalities (e.g., one-to-many, many-to-many) and participation ratios (total vs.&nbsp;partial participation).</p>
<section id="cardinality-table" class="level3">
<h3 class="anchored" data-anchor-id="cardinality-table">Cardinality Table</h3>
<table class="caption-top table">
<colgroup>
<col style="width: 28%">
<col style="width: 18%">
<col style="width: 53%">
</colgroup>
<thead>
<tr class="header">
<th>Entity</th>
<th>Cardinality</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>PLAYER and PLAYER_CHARACTER</td>
<td>One to Many (1:N)</td>
<td>One player plays many characters</td>
</tr>
<tr class="even">
<td>PLAYER and PLAYER_Achievement</td>
<td>One to Many (1:N)</td>
<td>One player earns many player_achievements</td>
</tr>
<tr class="odd">
<td>PLAYER_Achievement ACHIEVEMENT</td>
<td>One to Many (1:N)</td>
<td>One player’s achievements are</td>
</tr>
<tr class="even">
<td>PLAYER_Character and CHARACTER</td>
<td>One to One (1:1)</td>
<td>One PLAYER_CHARACTER belongs to one character instance</td>
</tr>
<tr class="odd">
<td>CHARACTER and CLASS</td>
<td>One to One (1:1)</td>
<td>One CHARACTER belongs to exactly one CLASS</td>
</tr>
<tr class="even">
<td>CHARACTER and RACE</td>
<td>One to One (1:1)</td>
<td>One CHARACTER belongs to exactly one RACE</td>
</tr>
<tr class="odd">
<td>CHARACTER and EQUIPMENT</td>
<td>One to Many (1:N)</td>
<td>One CHARACTER equips one or more EQUIPMENTs</td>
</tr>
<tr class="even">
<td>BOSS and MONSTER</td>
<td>One to Many (1:N)</td>
<td>One BOSS supervises many MONSTERs</td>
</tr>
<tr class="odd">
<td>MONSTER and NPC</td>
<td>One to Many (1:N)</td>
<td>One MONSTER relates to many NPCs</td>
</tr>
<tr class="even">
<td>NPC and NPC_Faction</td>
<td>One to Many (1:N)</td>
<td>One NPC belongs to many factions</td>
</tr>
<tr class="odd">
<td>NPC and NPC_Location</td>
<td>One to Many (1:N)</td>
<td>One NPC is located in one or more locations</td>
</tr>
<tr class="even">
<td>NPC and CLASS</td>
<td>One to One (1:1)</td>
<td>One NPC has belongs to one class</td>
</tr>
<tr class="odd">
<td>NPC and RACE</td>
<td>One to One (1:1)</td>
<td>One NPC belongs to one race</td>
</tr>
<tr class="even">
<td>CLASS and CLASS_SPELL</td>
<td>One to Many (1:N)</td>
<td>One Class has many spells</td>
</tr>
<tr class="odd">
<td>CLASS_SPELL and SPELL</td>
<td>One to Many (1:N)</td>
<td>One Class Spell teaches many spells</td>
</tr>
<tr class="even">
<td>CHARACTER and MONSTER</td>
<td>One to Many (1:N)</td>
<td>One Character fights many Monsters</td>
</tr>
<tr class="odd">
<td>CHARACTER and CHARACTER_EVENT</td>
<td>One to Many (1:N)</td>
<td>One Character participates in many Character Events</td>
</tr>
<tr class="even">
<td>EVENT and NPC</td>
<td>Many to Many (N:N)</td>
<td>Many NPCs participate in many Events</td>
</tr>
</tbody>
</table>
</section>
<section id="participation-ratio-table" class="level3">
<h3 class="anchored" data-anchor-id="participation-ratio-table">Participation Ratio Table</h3>
<table class="caption-top table">
<colgroup>
<col style="width: 29%">
<col style="width: 19%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th>Entity</th>
<th>Participation</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Player and Character</td>
<td>Total/Mandatory (1)</td>
<td>A character must be played by a player</td>
</tr>
<tr class="even">
<td></td>
<td>Partial/Optional(0)</td>
<td>One player can play 0,1, or many characters</td>
</tr>
<tr class="odd">
<td>PLAYER and PLAYER_CHARACTER</td>
<td>Total/Mandatory (1)</td>
<td>One player_character must belong to exactly one player</td>
</tr>
<tr class="even">
<td></td>
<td>Total/Mandatory (1)</td>
<td>Each player must have a player_character</td>
</tr>
<tr class="odd">
<td>PLAYER and PLAYER_Achievement</td>
<td>Total/Mandatory (1)</td>
<td>Player_achievement must belong to exactly one player</td>
</tr>
<tr class="even">
<td>PLAYER_Achievement ACHIEVEMENT</td>
<td>Total/Mandatory (1)</td>
<td>Each player_achievement must belong to one or more</td>
</tr>
<tr class="odd">
<td></td>
<td>Partial/Optional(0)</td>
<td>achievements. Many achievements belong to one</td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td>player_achievement</td>
</tr>
<tr class="odd">
<td>PLAYER_Character and CHARACTER</td>
<td>Total/Mandatory (1)</td>
<td>Each Player_Character has exactly one Character</td>
</tr>
<tr class="even">
<td></td>
<td>Total/Mandatory (1)</td>
<td>One PLAYER_CHARACTER belongs to one Character</td>
</tr>
<tr class="odd">
<td>CHARACTER and CLASS</td>
<td>Total/Mandatory (1)</td>
<td>Each Character must have exactly one class</td>
</tr>
<tr class="even">
<td></td>
<td>Total/Mandatory (1)</td>
<td>Each Class must have a character it belongs to</td>
</tr>
<tr class="odd">
<td>CHARACTER and RACE</td>
<td>Total/Mandatory (1)</td>
<td>Each Character must have exactly one race</td>
</tr>
<tr class="even">
<td></td>
<td>Total/Mandatory (1)</td>
<td>Each race must have a character it belongs to</td>
</tr>
<tr class="odd">
<td>CHARACTER and EQUIPMENT</td>
<td>Total/Mandatory (1)</td>
<td>If equipment is equipped, it is be equipped to character</td>
</tr>
<tr class="even">
<td></td>
<td>Partial/Optional(0)</td>
<td>All equipment is not necessarily equipped to characters</td>
</tr>
<tr class="odd">
<td>BOSS and MONSTER</td>
<td>Total/Mandatory (1)</td>
<td>A Boss must be a type of Monster</td>
</tr>
<tr class="even">
<td></td>
<td>Total/Mandatory (1)</td>
<td></td>
</tr>
<tr class="odd">
<td>MONSTER and NPC</td>
<td>Total/Mandatory (1)</td>
<td>A Monster must be a type of NPC</td>
</tr>
<tr class="even">
<td></td>
<td>Total/Mandatory (1)</td>
<td></td>
</tr>
<tr class="odd">
<td>NPC and NPC_Faction</td>
<td>Total/Mandatory (1)</td>
<td>One NPC must belong to at least one faction</td>
</tr>
<tr class="even">
<td></td>
<td>Total/Mandatory (1)</td>
<td>If a faction exists, it must belong to an NPC</td>
</tr>
<tr class="odd">
<td>NPC and NPC_Location</td>
<td>Total/Mandatory (1)</td>
<td>An NPC must belong to a location</td>
</tr>
<tr class="even">
<td></td>
<td>Partial/Optional(0)</td>
<td>A location can be empty, e.g., no NPCs are there</td>
</tr>
<tr class="odd">
<td>NPC and CLASS</td>
<td>Total/Mandatory (1)</td>
<td>An NPC must belong to exactly one class</td>
</tr>
<tr class="even">
<td></td>
<td>Total/Mandatory (1)</td>
<td>A class must belong to an NPC</td>
</tr>
<tr class="odd">
<td>NPC and RACE</td>
<td>Total/Mandatory (1)</td>
<td>One NPC belongs to one race</td>
</tr>
<tr class="even">
<td></td>
<td>Total/Mandatory (1)</td>
<td>A Race must belong to an NPC</td>
</tr>
<tr class="odd">
<td>CLASS and CLASS_SPELL</td>
<td>Total/Mandatory (1)</td>
<td>A class spell must belong to a class</td>
</tr>
<tr class="even">
<td></td>
<td>Partial/Optional(0)</td>
<td>A class may not have any class spells</td>
</tr>
<tr class="odd">
<td>CLASS_SPELL and SPELL</td>
<td>Total/Mandatory (1)</td>
<td>A spell must be taught by a class spell</td>
</tr>
<tr class="even">
<td></td>
<td>Partial/Optional(0)</td>
<td>A class spell may teach many or no spells</td>
</tr>
<tr class="odd">
<td>CHARACTER and MONSTER</td>
<td>Total/Mandatory (1)</td>
<td>A character must battle at least one monster</td>
</tr>
<tr class="even">
<td></td>
<td>Partial/Optional(0)</td>
<td>A monster may or may not battle a character</td>
</tr>
<tr class="odd">
<td>CHARACTER and CHARACTER_EVENT</td>
<td>Total/Mandatory (1)</td>
<td>A character event must occur with one character</td>
</tr>
<tr class="even">
<td></td>
<td>Partial/Optional(0)</td>
<td>A character can exist without character events</td>
</tr>
<tr class="odd">
<td>EVENT and NPC</td>
<td>Partial/Optional(0)</td>
<td>An NPC can exist without participating in events</td>
</tr>
<tr class="even">
<td></td>
<td>Partial/Optional(0)</td>
<td>Events can exist without participating NPCs</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="identify-and-explain" class="level2">
<h2 class="anchored" data-anchor-id="identify-and-explain"><strong>Identify and explain</strong></h2>
<section id="strong-vs.-weak-entities" class="level3">
<h3 class="anchored" data-anchor-id="strong-vs.-weak-entities">Strong vs.&nbsp;weak entities</h3>
<p>Our database includes a variety of strong and weak entities to represent the complexity of the Dungeons &amp; Dragons ecology.</p>
<p>Strong Entities include:</p>
<p><strong>Player:</strong> Represents users of the system.</p>
<p><strong>Character:</strong> The core avatar controlled by a player.</p>
<p>Class, Race, Spell, Equipment, NPC, Event, and Achievement: Each with independent existence and primary keys.</p>
</section>
<section id="weak-entities-include-melanie-ortiz" class="level3">
<h3 class="anchored" data-anchor-id="weak-entities-include-melanie-ortiz">Weak Entities include (Melanie Ortiz):</h3>
<p><strong>Monster:</strong> Depends on Race and Class for full definition.</p>
<p><strong>Boss:</strong> A subtype of Monster, inheriting its attributes and adding boss-specific ones like PhaseCount and Lair.</p>
<p><strong>ClassSpell:</strong> Links Class and Spell in a many-to-one relationship.</p>
<p><strong>CharacterEquipment:</strong> A many-to-many relationship between Character and Equipment.</p>
<p><strong>CharacterEvent:</strong> A many-to-many relationship between Character and Event.</p>
<p><strong>PlayerAchievement:</strong> A many-to-many relationship between Player and Achievement.</p>
<p>These weak entities rely on foreign keys and composite keys to maintain referential integrity and represent dependent relationships.</p>
</section>
<section id="supertypes-and-subtypes-with-their-distinguishing-features." class="level3">
<h3 class="anchored" data-anchor-id="supertypes-and-subtypes-with-their-distinguishing-features.">Supertypes and subtypes with their distinguishing features.</h3>
<p>We implemented a supertype-subtype relationship to model hierarchical data:</p>
<p><strong>Supertype:</strong> Monster</p>
<p><strong>Subtype:</strong> Boss</p>
<p>The Boss entity inherits all attributes from Monster (e.g., HP, AC, CR) and introduces additional attributes like PhaseCount and Lair. This structure allows us to distinguish between regular monsters and more complex boss encounters while maintaining a unified combat model.</p>
</section>
</section>
<section id="table-column-constraints" class="level2">
<h2 class="anchored" data-anchor-id="table-column-constraints"><strong>Table &amp; Column Constraints</strong></h2>
<section id="player-table" class="level3">
<h3 class="anchored" data-anchor-id="player-table">Player Table</h3>
<p><strong>Table Constraint</strong></p>
<ul>
<li>Primary Key: <code>PlayerID</code></li>
</ul>
<p><strong>Column Constraints</strong></p>
<ul>
<li>Not Null: <code>Name</code>, <code>Email</code>, <code>JoinDate</code></li>
<li>Unique: <code>Email</code></li>
</ul>
<hr>
</section>
<section id="character-table" class="level3">
<h3 class="anchored" data-anchor-id="character-table">Character Table</h3>
<p><strong>Table Constraint</strong></p>
<ul>
<li><p>Primary Key: <code>CharacterID</code></p></li>
<li><p>Foreign Key: <code>PlayerID</code></p>
<p><em>On Delete: CASCADE, On Update: CASCADE</em></p></li>
<li><p>Foreign Key: <code>ClassID</code></p>
<p><em>On Delete: SET NULL, On Update: SET NULL</em></p></li>
<li><p>Foreign Key: <code>RaceID</code></p>
<p><em>On Delete: SET NULL, On Update: SET NULL</em></p></li>
</ul>
<p><strong>Column Constraints</strong></p>
<ul>
<li><p>Not Null: <code>Name</code>, <code>Level</code>, <code>XP</code></p></li>
<li><p>Check: <code>Level &gt;= 1</code>, <code>XP &gt;= 0</code></p></li>
</ul>
<hr>
</section>
<section id="class-table" class="level3">
<h3 class="anchored" data-anchor-id="class-table">Class Table</h3>
<p><strong>Table Constraint</strong></p>
<ul>
<li>Primary Key: <code>ClassID</code></li>
</ul>
<p><strong>Column Constraints</strong></p>
<ul>
<li>Not Null: <code>Name</code></li>
</ul>
<hr>
</section>
<section id="race-table" class="level3">
<h3 class="anchored" data-anchor-id="race-table">Race Table</h3>
<p><strong>Table Constraint</strong></p>
<ul>
<li>Primary Key: <code>RaceID</code></li>
</ul>
<p><strong>Column Constraints</strong></p>
<ul>
<li>Not Null: <code>Name</code></li>
</ul>
<hr>
</section>
<section id="spell-table" class="level3">
<h3 class="anchored" data-anchor-id="spell-table">Spell Table</h3>
<p><strong>Table Constraint</strong></p>
<ul>
<li>Primary Key: <code>SpellID</code></li>
</ul>
<p><strong>Column Constraints</strong></p>
<ul>
<li><p>Not Null: <code>Name</code>, <code>Level</code></p></li>
<li><p>Check: <code>Level &gt;= 0</code></p></li>
</ul>
<hr>
</section>
<section id="equipment-table" class="level3">
<h3 class="anchored" data-anchor-id="equipment-table">Equipment Table</h3>
<p><strong>Table Constraint</strong></p>
<ul>
<li>Primary Key: <code>EquipmentID</code></li>
</ul>
<p><strong>Column Constraints</strong></p>
<ul>
<li><p>Not Null: <code>Name</code>, <code>Equipped</code></p></li>
<li><p>Check: <code>Equipped IN (TRUE, FALSE)</code></p></li>
</ul>
<hr>
</section>
<section id="npc-table" class="level3">
<h3 class="anchored" data-anchor-id="npc-table">NPC Table</h3>
<p><strong>Table Constraint</strong></p>
<ul>
<li><p>Primary Key: <code>NPCID</code></p></li>
<li><p>Foreign Key: <code>ClassID</code></p>
<p><em>On Delete: SET NULL, On Update: SET NULL</em></p></li>
<li><p>Foreign Key: <code>RaceID</code></p>
<p><em>On Delete: SET NULL, On Update: SET NULL</em></p></li>
<li><p>Foreign Key: <code>FactionID</code></p>
<p><em>On Delete: SET NULL, On Update: SET NULL</em></p></li>
<li><p>Foreign Key: <code>LocationID</code></p>
<p><em>On Delete: SET NULL, On Update: SET NULL</em></p></li>
</ul>
<p><strong>Column Constraints</strong></p>
<ul>
<li>Not Null: <code>Name</code></li>
</ul>
<hr>
</section>
<section id="event-table" class="level3">
<h3 class="anchored" data-anchor-id="event-table">Event Table</h3>
<p><strong>Table Constraint</strong></p>
<ul>
<li>Primary Key: <code>EventID</code></li>
</ul>
<p><strong>Column Constraints</strong></p>
<ul>
<li>Not Null: <code>Name</code>, <code>Date</code></li>
</ul>
<hr>
</section>
</section>
<section id="achievement-table" class="level2">
<h2 class="anchored" data-anchor-id="achievement-table">Achievement Table</h2>
<p><strong>Table Constraint</strong></p>
<ul>
<li>Primary Key: <code>AchievementID</code></li>
</ul>
<p><strong>Column Constraints</strong></p>
<ul>
<li>Not Null: <code>Title</code></li>
</ul>
<hr>
<section id="monster-table" class="level3">
<h3 class="anchored" data-anchor-id="monster-table">Monster Table</h3>
<p><strong>Table Constraint</strong></p>
<ul>
<li><p>Primary Key: <code>MonsterID</code></p></li>
<li><p>Foreign Key: <code>RaceID</code></p>
<p><em>On Delete: SET NULL, On Update: SET NULL</em></p></li>
<li><p>Foreign Key: <code>ClassID</code></p>
<p><em>On Delete: SET NULL, On Update: SET NULL</em></p></li>
<li><p>Foreign Key: <code>MonsterID</code> (From <code>NPC</code>)</p>
<p><em>On Delete: CASCADE, On Update: CASCADE</em></p></li>
</ul>
<p><strong>Column Constraints</strong></p>
<ul>
<li><p>Not Null: <code>Name</code>, <code>HP</code>, <code>AC</code>, <code>CR</code></p></li>
<li><p>Check: <code>HP &gt;= 0</code>, <code>AC &gt;= 0</code>, <code>CR &gt;= 0</code></p></li>
</ul>
<hr>
</section>
<section id="boss-table" class="level3">
<h3 class="anchored" data-anchor-id="boss-table">Boss Table</h3>
<p><strong>Table Constraint</strong></p>
<ul>
<li><p>Primary Key: <code>MonsterID</code></p></li>
<li><p>Foreign Key: <code>MonsterID</code></p>
<p><em>On Delete: CASCADE, On Update: CASCADE</em></p></li>
</ul>
<p><strong>Column Constraints</strong></p>
<ul>
<li><p>Not Null: <code>PhaseCount</code></p></li>
<li><p>Check: <code>PhaseCount &gt;= 1</code></p></li>
</ul>
<hr>
</section>
<section id="classspell-table" class="level3">
<h3 class="anchored" data-anchor-id="classspell-table">ClassSpell Table</h3>
<p><strong>Table Constraint</strong></p>
<ul>
<li><p>Primary Key: <code>ClassID</code>, <code>SpellID</code></p></li>
<li><p>Foreign Keys:</p>
<ul>
<li><p><code>ClassID</code> (<em>On Delete: CASCADE, On Update: CASCADE</em>)</p></li>
<li><p><code>SpellID</code> (<em>On Delete: CASCADE, On Update: CASCADE</em>)</p></li>
</ul></li>
</ul>
<hr>
</section>
<section id="characterequipment-table" class="level3">
<h3 class="anchored" data-anchor-id="characterequipment-table">CharacterEquipment Table</h3>
<p><strong>Table Constraint</strong></p>
<ul>
<li><p>Primary Key: <code>CharacterID</code>, <code>EquipmentID</code></p></li>
<li><p>Foreign Keys:</p>
<ul>
<li><p><code>CharacterID</code> (<em>On Delete: CASCADE, On Update: CASCADE</em>)</p></li>
<li><p><code>EquipmentID</code> (<em>On Delete: CASCADE, On Update: CASCADE</em>)</p></li>
</ul></li>
</ul>
<hr>
</section>
<section id="characterevent-table" class="level3">
<h3 class="anchored" data-anchor-id="characterevent-table">CharacterEvent Table</h3>
<p><strong>Table Constraint</strong></p>
<ul>
<li><p>Primary Key: <code>CharacterID</code>, <code>EventID</code></p></li>
<li><p>Foreign Keys:</p>
<ul>
<li><p><code>CharacterID</code> (<em>On Delete: CASCADE, On Update: CASCADE</em>)</p></li>
<li><p><code>EventID</code> (<em>On Delete: CASCADE, On Update: CASCADE</em>)</p></li>
</ul></li>
</ul>
<hr>
</section>
<section id="playerachievement-table" class="level3">
<h3 class="anchored" data-anchor-id="playerachievement-table">PlayerAchievement Table</h3>
<p><strong>Table Constraint</strong></p>
<ul>
<li><p>Primary Key: <code>PlayerID</code>, <code>AchievementID</code></p></li>
<li><p>Foreign Keys:</p>
<ul>
<li><p><code>PlayerID</code> (<em>On Delete: CASCADE, On Update: CASCADE</em>)</p></li>
<li><p><code>AchievementID</code> (<em>On Delete: CASCADE, On Update: CASCADE</em>)</p></li>
</ul></li>
</ul>
<hr>
</section>
<section id="faction-table" class="level3">
<h3 class="anchored" data-anchor-id="faction-table">Faction Table</h3>
<p><strong>Table Constraint</strong></p>
<ul>
<li>Primary Key: <code>FactionID</code></li>
</ul>
<p><strong>Column Constraints</strong></p>
<ul>
<li>Not Null: <code>Name</code></li>
</ul>
<hr>
</section>
<section id="location-table" class="level3">
<h3 class="anchored" data-anchor-id="location-table">Location Table</h3>
<p><strong>Table Constraint</strong></p>
<ul>
<li>Primary Key: <code>LocationID</code></li>
</ul>
<p><strong>Column Constraints</strong></p>
<ul>
<li><p>Not Null: <code>Name</code></p></li>
<li><p>Optional: <code>Region</code>, <code>EnvironmentType</code>, <code>Coordinates</code> (if included)</p></li>
</ul>
</section>
</section>
<section id="normalization-goals" class="level2">
<h2 class="anchored" data-anchor-id="normalization-goals"><strong>Normalization Goals</strong></h2>
<p>All tables in our Dungeons &amp; Dragons database schema are normalized to Third Normal Form (3NF). This was straightforward to confirm due to the minimal attribute design and the absence of redundant or repeating data.</p>
<p>Each entity contains only attributes that are fully dependent on its primary key, and no transitive dependencies exist. Relationship tables use composite keys to maintain referential integrity without introducing redundancy.</p>
<p>This normalization ensures:</p>
<ul>
<li><p>Efficient data storage</p></li>
<li><p>Logical separation of concerns</p></li>
<li><p>Simplified query design</p></li>
<li><p>Consistency across relationships</p></li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/mszeihen\.github\.io\/DatabaseProject-5725\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>